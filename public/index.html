<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link
            rel="icon"
            href="%PUBLIC_URL%/favicon.ico"
        />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1"
        />
        <meta
            name="theme-color"
            content="#000000"
        />
        <meta
            name="author"
            content="Webestica.com"
        />
        <meta
            name="description"
            content="Web site created using create-react-app"
        />
        <link
            rel="apple-touch-icon"
            href="%PUBLIC_URL%/logo192.png"
        />

        <link
            rel="manifest"
            href="%PUBLIC_URL%/manifest.json"
        />
        <base href="/" />

        <title>Blogzine - Blog and Magazine</title>

        <script>
            const storedTheme = localStorage.getItem("theme");

            const getPreferredTheme = () => {
                if (storedTheme) {
                    return storedTheme;
                }
                return window.matchMedia("(prefers-color-scheme: light)")
                    .matches
                    ? "light"
                    : "light";
            };

            const setTheme = function (theme) {
                if (
                    theme === "auto" &&
                    window.matchMedia("(prefers-color-scheme: dark)").matches
                ) {
                    document.documentElement.setAttribute(
                        "data-bs-theme",
                        "dark"
                    );
                } else {
                    document.documentElement.setAttribute(
                        "data-bs-theme",
                        theme
                    );
                }
            };

            setTheme(getPreferredTheme());

            window.addEventListener("DOMContentLoaded", () => {
                var el = document.querySelector(".theme-icon-active");
                if (el != "undefined" && el != null) {
                    const showActiveTheme = (theme) => {
                        const activeThemeIcon = document.querySelector(
                            ".theme-icon-active use"
                        );
                        const btnToActive = document.querySelector(
                            `[data-bs-theme-value="${theme}"]`
                        );
                        const svgOfActiveBtn = btnToActive
                            .querySelector(".mode-switch use")
                            .getAttribute("href");

                        document
                            .querySelectorAll("[data-bs-theme-value]")
                            .forEach((element) => {
                                element.classList.remove("active");
                            });

                        btnToActive.classList.add("active");
                        activeThemeIcon.setAttribute("href", svgOfActiveBtn);
                    };

                    window
                        .matchMedia("(prefers-color-scheme: dark)")
                        .addEventListener("change", () => {
                            if (
                                storedTheme !== "light" ||
                                storedTheme !== "dark"
                            ) {
                                setTheme(getPreferredTheme());
                            }
                        });

                    showActiveTheme(getPreferredTheme());

                    document
                        .querySelectorAll("[data-bs-theme-value]")
                        .forEach((toggle) => {
                            toggle.addEventListener("click", () => {
                                const theme = toggle.getAttribute(
                                    "data-bs-theme-value"
                                );
                                localStorage.setItem("theme", theme);
                                setTheme(theme);
                                showActiveTheme(theme);
                            });
                        });
                }
            });
        </script>

        <link
            rel="preconnect"
            href="https://fonts.gstatic.com/"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&amp;family=Rubik:wght@400;500;700&amp;display=swap"
            rel="stylesheet"
        />

        <link
            rel="stylesheet"
            type="text/css"
            href="/assets/vendor/font-awesome/css/all.min.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/assets/vendor/bootstrap-icons/bootstrap-icons.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/assets/vendor/tiny-slider/tiny-slider.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/assets/vendor/plyr/plyr.css"
        />

        <link
            rel="stylesheet"
            type="text/css"
            href="/assets/css/style.css"
        />
    </head>
    <body>
        <div id="root"></div>

        <div class="back-top"><i class="bi bi-arrow-up-short"></i></div>

        <script src="/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

        <!-- <script src="/assets/vendor/tiny-slider/tiny-slider.js"></script> -->
        <script src="/assets/vendor/sticky-js/sticky.min.js"></script>
        <script src="/assets/vendor/plyr/plyr.js"></script>

        <script src="/assets/js/functions.js"></script>
    </body>
</html>
